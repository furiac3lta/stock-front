<div class="dashboard-container">

  <h1 class="title">Dashboard</h1>

  <div class="card-grid">

    <div class="stat-card">
      <h3>Total de Productos</h3>
      <p class="value">{{ totalProductos }}</p>
    </div>

    <div class="stat-card">
      <h3>Total de Categorías</h3>
      <p class="value">{{ totalCategorias }}</p>
    </div>

    <div class="stat-card">
      <h3>Valor del Inventario</h3>
      <p class="value">{{ valorInventario | currency:'ARS':'symbol':'1.0-0' }}</p>
    </div>

    <div class="stat-card">
      <h3>Stock Total</h3>
      <p class="value">{{ totalStock }}</p>
    </div>

    <div class="stat-card">
      <h3>Movimientos Hoy</h3>
      <p class="value">{{ totalMovimientosHoy }}</p>
    </div>

  </div>

  <!-- STOCK BAJO -->
  <div class="section">
    <h2>Stock Bajo (≤ 5)</h2>

    <div *ngIf="stockBajo.length === 0" class="empty">No hay productos con stock bajo</div>

    <ul *ngIf="stockBajo.length > 0">
      <li *ngFor="let p of stockBajo">
        {{ p.name }} — Stock: <strong>{{ p.stock }}</strong>
      </li>
    </ul>
  </div>

  <!-- ÚLTIMOS PRODUCTOS -->
  <div class="section">
    <h2>Últimos Productos</h2>

    <ul>
      <li *ngFor="let p of ultimosProductos">
        {{ p.name }} — 
        <span>{{ p.salePrice | currency:'ARS':'symbol':'1.0-0' }}</span>
      </li>
    </ul>
  </div>

  <!-- ÚLTIMOS MOVIMIENTOS -->
  <div class="section">
    <h2>Últimos Movimientos</h2>

    <ul>
      <li *ngFor="let m of ultimosMovimientos">
        <strong>{{ m.createdAt | date:'dd/MM HH:mm' }}</strong> — 
        {{ m.productName }}
        <span [class.in]="m.movementType === 'IN'"
              [class.out]="m.movementType === 'OUT'">
          ({{ m.movementType }})
        </span>
        — Cant: {{ m.quantity }}
      </li>
    </ul>
  </div>

</div>

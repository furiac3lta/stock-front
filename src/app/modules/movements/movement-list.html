<h2>Historial de movimientos</h2>

<table mat-table [dataSource]="data" class="mat-elevation-z2 full">

  <!-- Fecha -->
  <ng-container matColumnDef="createdAt">
    <th mat-header-cell *matHeaderCellDef>Fecha</th>
    <td mat-cell *matCellDef="let m">
      {{ m.createdAt | date:'dd/MM/yyyy HH:mm' }}
    </td>
  </ng-container>

  <!-- Producto -->
  <ng-container matColumnDef="product">
    <th mat-header-cell *matHeaderCellDef>Producto</th>
    <td mat-cell *matCellDef="let m">{{ m.productName }}</td>
  </ng-container>

  <!-- Tipo -->
  <ng-container matColumnDef="movementType">
    <th mat-header-cell *matHeaderCellDef>Tipo</th>
    <td mat-cell *matCellDef="let m">
      <strong [ngClass]="{
        'in': m.movementType === 'INCREASE',
        'out': m.movementType === 'DECREASE'
      }">
        {{ m.movementType === 'INCREASE' ? 'Ingreso' : 'Salida' }}
      </strong>
    </td>
  </ng-container>

  <!-- Cantidad -->
  <ng-container matColumnDef="quantity">
    <th mat-header-cell *matHeaderCellDef>Cant.</th>
    <td mat-cell *matCellDef="let m">{{ m.quantity }}</td>
  </ng-container>

  <!-- Usuario -->
  <ng-container matColumnDef="createdBy">
    <th mat-header-cell *matHeaderCellDef>Usuario</th>
    <td mat-cell *matCellDef="let m">{{ m.createdBy }}</td>
  </ng-container>

  <!-- Descripción -->
  <ng-container matColumnDef="description">
    <th mat-header-cell *matHeaderCellDef>Descripción</th>
    <td mat-cell *matCellDef="let m">
      {{ m.description || '—' }}
    </td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-row        *matRowDef="let row; columns: displayedColumns"></tr>

</table>
